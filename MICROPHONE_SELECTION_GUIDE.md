# ë§ˆì´í¬ ì„ íƒ ê¸°ëŠ¥ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ë©´ì ‘ ë…¹ìŒ ì‹œ ì‚¬ìš©ìê°€ **ì™¸ë¶€ ë§ˆì´í¬ë¥¼ ì§ì ‘ ì„ íƒ**í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê³ í’ˆì§ˆ USB ë§ˆì´í¬ë‚˜ ì „ë¬¸ ì˜¤ë””ì˜¤ ì¥ë¹„ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ë‚˜ì€ ìŒì§ˆë¡œ ë…¹ìŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ¯ ê°œì„  ëª©í‘œ

### ê¸°ì¡´ ë¬¸ì œì 
- âŒ ë¸Œë¼ìš°ì €ê°€ í•­ìƒ ê¸°ë³¸ ë§ˆì´í¬(ë‚´ì¥ ë§ˆì´í¬)ë¥¼ ì‚¬ìš©
- âŒ ì™¸ë¶€ ë§ˆì´í¬ë¥¼ ì—°ê²°í•´ë„ ìë™ìœ¼ë¡œ ì„ íƒë˜ì§€ ì•ŠìŒ
- âŒ ì‚¬ìš©ìê°€ ë§ˆì´í¬ë¥¼ ë³€ê²½í•  ë°©ë²•ì´ ì—†ìŒ
- âŒ ë‚´ì¥ ë§ˆì´í¬ì˜ ë‚®ì€ ìŒì§ˆ

### ê°œì„  í›„
- âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ë§ˆì´í¬ë¥¼ ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ í‘œì‹œ
- âœ… ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë§ˆì´í¬ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„ íƒ ê°€ëŠ¥
- âœ… ë§ˆì´í¬ ì—°ê²°/í•´ì œ ì‹œ ìë™ìœ¼ë¡œ ëª©ë¡ ê°±ì‹ 
- âœ… ê³ í’ˆì§ˆ ì™¸ë¶€ ë§ˆì´í¬ ì‚¬ìš© ê°€ëŠ¥

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ë§ˆì´í¬ ëª©ë¡ ìë™ ê°ì§€
```javascript
// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ì˜¤ë””ì˜¤ ì…ë ¥ ì¥ì¹˜ ê°ì§€
const devices = await navigator.mediaDevices.enumerateDevices();
const audioInputs = devices.filter(device => device.kind === 'audioinput');
```

### 2. ë§ˆì´í¬ ì„ íƒ UI
- ğŸ“± **ë“œë¡­ë‹¤ìš´ ë©”ë‰´**: ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ë§ˆì´í¬ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” `<select>` ë©”ë‰´
- ğŸ·ï¸ **ì¥ì¹˜ ì´ë¦„ í‘œì‹œ**: "Logitech USB Microphone", "MacBook Pro Microphone" ë“±
- ğŸ’¡ **ì•ˆë‚´ ë©”ì‹œì§€**: ì™¸ë¶€ ë§ˆì´í¬ ì‚¬ìš©ì„ ê¶Œì¥í•˜ëŠ” íŒíŠ¸ í‘œì‹œ

### 3. ì„ íƒëœ ë§ˆì´í¬ë¡œ ë…¹ìŒ
```javascript
// ì„ íƒëœ ë§ˆì´í¬ IDë¥¼ getUserMediaì— ì „ë‹¬
const stream = await navigator.mediaDevices.getUserMedia({
  audio: {
    deviceId: { exact: selectedDeviceId }
  }
});
```

### 4. ì¥ì¹˜ ë³€ê²½ ìë™ ê°ì§€
```javascript
// ë§ˆì´í¬ ì—°ê²°/í•´ì œ ì‹œ ìë™ìœ¼ë¡œ ëª©ë¡ ê°±ì‹ 
navigator.mediaDevices.addEventListener('devicechange', handleDeviceChange);
```

## ğŸ¨ UI ë””ìì¸

### ë§ˆì´í¬ ì„ íƒ ë°•ìŠ¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ™ï¸                                                  â”‚
â”‚                                                     â”‚
â”‚   ğŸ™ï¸ ë§ˆì´í¬ ì„ íƒ                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ â–¼ MacBook Pro Microphone                  â”‚   â”‚
â”‚   â”‚   USB Microphone (Logitech)               â”‚   â”‚
â”‚   â”‚   External Audio Interface                â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚   ğŸ’¡ ì™¸ë¶€ ë§ˆì´í¬ë¥¼ ì—°ê²°í•˜ì…¨ë‹¤ë©´ ìœ„ì—ì„œ ì„ íƒí•´ì£¼ì„¸ìš”.  â”‚
â”‚      ë” ë‚˜ì€ ìŒì§ˆë¡œ ë…¹ìŒë©ë‹ˆë‹¤.                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **ìƒ‰ìƒ**: íŒŒë€ìƒ‰ ê³„ì—´ (`bg-blue-50`, `border-blue-200`)
- **ì•„ì´ì½˜**: ë§ˆì´í¬ SVG ì•„ì´ì½˜
- **ìœ„ì¹˜**: "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ ë°”ë¡œ ìœ„
- **í‘œì‹œ ì¡°ê±´**: ë…¹ìŒ ì¤‘ì´ ì•„ë‹ˆê³ , ë§ˆì´í¬ê°€ 1ê°œ ì´ìƒ ê°ì§€ëœ ê²½ìš°

## ğŸ’» ì½”ë“œ êµ¬ì¡°

### State ì¶”ê°€
```javascript
// src/app/components/InterviewUI.jsx

const [audioDevices, setAudioDevices] = useState([]); 
// ì‚¬ìš© ê°€ëŠ¥í•œ ë§ˆì´í¬ ëª©ë¡

const [selectedDeviceId, setSelectedDeviceId] = useState(''); 
// ì„ íƒëœ ë§ˆì´í¬ ID (ë¹ˆ ë¬¸ìì—´ = ê¸°ë³¸ ë§ˆì´í¬)
```

### ë§ˆì´í¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
```javascript
useEffect(() => {
  const loadAudioDevices = async () => {
    try {
      // 1. ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­
      await navigator.mediaDevices.getUserMedia({ audio: true });
      
      // 2. ëª¨ë“  ë¯¸ë””ì–´ ì¥ì¹˜ ê°€ì ¸ì˜¤ê¸°
      const devices = await navigator.mediaDevices.enumerateDevices();
      
      // 3. ì˜¤ë””ì˜¤ ì…ë ¥ ì¥ì¹˜ë§Œ í•„í„°ë§
      const audioInputs = devices.filter(device => device.kind === 'audioinput');
      
      // 4. Stateì— ì €ì¥
      setAudioDevices(audioInputs);
      
      // 5. ê¸°ë³¸ ë§ˆì´í¬ ìë™ ì„ íƒ
      if (!selectedDeviceId && audioInputs.length > 0) {
        setSelectedDeviceId(audioInputs[0].deviceId);
      }
    } catch (error) {
      console.error('[ë§ˆì´í¬ ì„ íƒ] ì¥ì¹˜ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
    }
  };

  // ì´ˆê¸° ë¡œë“œ
  loadAudioDevices();

  // ì¥ì¹˜ ë³€ê²½ ê°ì§€
  navigator.mediaDevices.addEventListener('devicechange', loadAudioDevices);

  // Cleanup
  return () => {
    navigator.mediaDevices.removeEventListener('devicechange', loadAudioDevices);
  };
}, [selectedDeviceId]);
```

### ì„ íƒëœ ë§ˆì´í¬ë¡œ ë…¹ìŒ
```javascript
const startRecording = async () => {
  // ì„ íƒëœ ë§ˆì´í¬ IDë¥¼ constraintsì— ì ìš©
  const audioConstraints = selectedDeviceId 
    ? { deviceId: { exact: selectedDeviceId } }  // íŠ¹ì • ë§ˆì´í¬
    : true;  // ê¸°ë³¸ ë§ˆì´í¬

  const stream = await navigator.mediaDevices.getUserMedia({ 
    audio: audioConstraints 
  });
  
  // MediaRecorder ì‹œì‘
  mediaRecorderRef.current = new MediaRecorder(stream, {
    mimeType: 'audio/webm'
  });
  // ...
};
```

### UI ë Œë”ë§
```jsx
{/* ë§ˆì´í¬ ì„ íƒ ë“œë¡­ë‹¤ìš´ */}
{!isRecording && !isTimerRunning && audioDevices.length > 0 && (
  <div className="mb-4 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg">
    <label htmlFor="microphone-select">
      ğŸ™ï¸ ë§ˆì´í¬ ì„ íƒ
    </label>
    <select
      id="microphone-select"
      value={selectedDeviceId}
      onChange={(e) => setSelectedDeviceId(e.target.value)}
    >
      {audioDevices.map((device) => (
        <option key={device.deviceId} value={device.deviceId}>
          {device.label || `ë§ˆì´í¬ ${audioDevices.indexOf(device) + 1}`}
        </option>
      ))}
    </select>
    <p className="text-xs text-blue-700 mt-2">
      ğŸ’¡ ì™¸ë¶€ ë§ˆì´í¬ë¥¼ ì—°ê²°í•˜ì…¨ë‹¤ë©´ ìœ„ì—ì„œ ì„ íƒí•´ì£¼ì„¸ìš”. ë” ë‚˜ì€ ìŒì§ˆë¡œ ë…¹ìŒë©ë‹ˆë‹¤.
    </p>
  </div>
)}
```

## ğŸ” ë””ë²„ê¹… ë¡œê·¸

### ë§ˆì´í¬ ëª©ë¡ ë¡œë“œ ì‹œ
```javascript
console.log('========================================');
console.log('[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¤ë””ì˜¤ ì…ë ¥ ì¥ì¹˜:', audioInputs.length, 'ê°œ');
audioInputs.forEach((device, index) => {
  console.log(`[ë§ˆì´í¬ ${index + 1}] ID: ${device.deviceId}`);
  console.log(`         Label: ${device.label || '(ê¶Œí•œ í•„ìš”)'}`);
  console.log(`         GroupId: ${device.groupId}`);
});
console.log('========================================');
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
========================================
[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¤ë””ì˜¤ ì…ë ¥ ì¥ì¹˜: 3 ê°œ
[ë§ˆì´í¬ 1] ID: default
         Label: ê¸°ë³¸ - MacBook Pro ë§ˆì´í¬
         GroupId: abc123...
[ë§ˆì´í¬ 2] ID: 8c7e9d...
         Label: MacBook Pro ë§ˆì´í¬
         GroupId: abc123...
[ë§ˆì´í¬ 3] ID: f3a2b1...
         Label: USB Microphone (Logitech)
         GroupId: def456...
========================================
```

### ë§ˆì´í¬ ì„ íƒ ì‹œ
```javascript
console.log('[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©ìê°€ ë§ˆì´í¬ ë³€ê²½:', device.label);
```

### ë…¹ìŒ ì‹œì‘ ì‹œ
```javascript
console.log('[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©í•  ë§ˆì´í¬ ID:', selectedDeviceId || '(ê¸°ë³¸ ë§ˆì´í¬)');
console.log('[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©í•  ë§ˆì´í¬ ì´ë¦„:', selectedDevice.label);
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©í•  ë§ˆì´í¬ ID: f3a2b1...
[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©í•  ë§ˆì´í¬ ì´ë¦„: USB Microphone (Logitech)
```

### ì¥ì¹˜ ë³€ê²½ ê°ì§€ ì‹œ
```javascript
console.log('[ë§ˆì´í¬ ì„ íƒ] ğŸ”„ ì¥ì¹˜ ë³€ê²½ ê°ì§€ë¨, ëª©ë¡ ê°±ì‹  ì¤‘...');
```

## ğŸš€ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë‚´ì¥ ë§ˆì´í¬ ì‚¬ìš© (ê¸°ë³¸)
1. ì‚¬ìš©ìê°€ ë©´ì ‘ í˜ì´ì§€ ì ‘ì†
2. ë¸Œë¼ìš°ì €ê°€ ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­
3. ê¶Œí•œ í—ˆìš© ì‹œ ë§ˆì´í¬ ëª©ë¡ ìë™ ë¡œë“œ
4. ì²« ë²ˆì§¸ ë§ˆì´í¬(ë³´í†µ ë‚´ì¥ ë§ˆì´í¬)ê°€ ìë™ ì„ íƒë¨
5. "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ í´ë¦­ â†’ ë‚´ì¥ ë§ˆì´í¬ë¡œ ë…¹ìŒ

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì™¸ë¶€ USB ë§ˆì´í¬ ì‚¬ìš©
1. ì‚¬ìš©ìê°€ ê³ í’ˆì§ˆ USB ë§ˆì´í¬ ì—°ê²°
2. ì¥ì¹˜ ë³€ê²½ ê°ì§€ â†’ ë§ˆì´í¬ ëª©ë¡ ìë™ ê°±ì‹ 
3. ë“œë¡­ë‹¤ìš´ì—ì„œ "USB Microphone" ì„ íƒ
4. "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ í´ë¦­ â†’ USB ë§ˆì´í¬ë¡œ ë…¹ìŒ
5. ê³ í’ˆì§ˆ ì˜¤ë””ì˜¤ íŒŒì¼ ìƒì„± ğŸ‰

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë§ˆì´í¬ ì—°ê²° í•´ì œ
1. ë…¹ìŒ ì¤‘ì´ ì•„ë‹ ë•Œ USB ë§ˆì´í¬ ì—°ê²° í•´ì œ
2. ì¥ì¹˜ ë³€ê²½ ê°ì§€ â†’ ë§ˆì´í¬ ëª©ë¡ ìë™ ê°±ì‹ 
3. ë“œë¡­ë‹¤ìš´ì— ë‚´ì¥ ë§ˆì´í¬ë§Œ í‘œì‹œë¨
4. ìë™ìœ¼ë¡œ ë‚´ì¥ ë§ˆì´í¬ê°€ ì„ íƒë¨

### ì‹œë‚˜ë¦¬ì˜¤ 4: ì˜¤ë””ì˜¤ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© (í”„ë¡œí˜ì…”ë„)
1. ì „ë¬¸ ì˜¤ë””ì˜¤ ì¸í„°í˜ì´ìŠ¤ + XLR ë§ˆì´í¬ ì—°ê²°
2. ë“œë¡­ë‹¤ìš´ì—ì„œ "Focusrite Scarlett 2i2" ë“± ì„ íƒ
3. ìŠ¤íŠœë””ì˜¤ê¸‰ ìŒì§ˆë¡œ ë…¹ìŒ ê°€ëŠ¥
4. STT ì •í™•ë„ í–¥ìƒ + í‰ê°€ í’ˆì§ˆ í–¥ìƒ

## ğŸ”’ ë¸Œë¼ìš°ì € ê¶Œí•œ

### ê¶Œí•œ ìš”ì²­ íƒ€ì´ë°
1. **í˜ì´ì§€ ë¡œë“œ ì‹œ**: ë§ˆì´í¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ `getUserMedia` í˜¸ì¶œ
2. **ë…¹ìŒ ì‹œì‘ ì‹œ**: ì„ íƒëœ ë§ˆì´í¬ë¡œ ì‹¤ì œ ìŠ¤íŠ¸ë¦¼ ìƒì„±

### ê¶Œí•œì´ ì—†ì„ ë•Œ
```javascript
catch (error) {
  if (error.name === 'NotAllowedError') {
    console.warn('âš ï¸ ë§ˆì´í¬ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.');
    // ì‚¬ìš©ìê°€ ê¶Œí•œì„ í—ˆìš©í•´ì•¼ ë§ˆì´í¬ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  }
}
```

**UI ë™ì‘:**
- ê¶Œí•œì´ ì—†ìœ¼ë©´ ë§ˆì´í¬ ëª©ë¡ì´ ë¹ˆ ë°°ì—´ë¡œ ìœ ì§€ë¨
- ë“œë¡­ë‹¤ìš´ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ
- "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ì€ ì—¬ì „íˆ í‘œì‹œë˜ì–´ ê¶Œí•œ ìš”ì²­ ê°€ëŠ¥

### ê¶Œí•œ í—ˆìš© ë°©ë²•
1. ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ ì™¼ìª½ì˜ ğŸ”’ ì•„ì´ì½˜ í´ë¦­
2. "ë§ˆì´í¬" ê¶Œí•œì„ "í—ˆìš©"ìœ¼ë¡œ ë³€ê²½
3. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

## ğŸ“Š ì§€ì› ë¸Œë¼ìš°ì €

| ë¸Œë¼ìš°ì € | `enumerateDevices` | `devicechange` ì´ë²¤íŠ¸ | ì§€ì› ì—¬ë¶€ |
|---------|-------------------|----------------------|----------|
| Chrome  | âœ… Yes            | âœ… Yes               | âœ… ì™„ë²½ ì§€ì› |
| Edge    | âœ… Yes            | âœ… Yes               | âœ… ì™„ë²½ ì§€ì› |
| Firefox | âœ… Yes            | âœ… Yes               | âœ… ì™„ë²½ ì§€ì› |
| Safari  | âœ… Yes            | âš ï¸ Partial          | âš ï¸ ë¶€ë¶„ ì§€ì›* |
| Opera   | âœ… Yes            | âœ… Yes               | âœ… ì™„ë²½ ì§€ì› |

*SafariëŠ” `devicechange` ì´ë²¤íŠ¸ ì§€ì›ì´ ë¶ˆì™„ì „í•  ìˆ˜ ìˆìŒ. ë§ˆì´í¬ ë³€ê²½ ì‹œ ìˆ˜ë™ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì•¼ í•  ìˆ˜ ìˆìŒ.

## ğŸ¯ ê¸°ëŒ€ íš¨ê³¼

### 1. ìŒì§ˆ ê°œì„ 
- âœ… **ë‚´ì¥ ë§ˆì´í¬**: ì¼ë°˜ì ìœ¼ë¡œ 50-100Hz ~ 15kHz ë²”ìœ„
- âœ… **USB ë§ˆì´í¬**: 20Hz ~ 20kHz ë²”ìœ„ (ìŠ¤íŠœë””ì˜¤ í’ˆì§ˆ)
- âœ… **ë…¸ì´ì¦ˆ ê°ì†Œ**: ì „ë¬¸ ë§ˆì´í¬ëŠ” ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§ ê¸°ëŠ¥ ë‚´ì¥

### 2. STT ì •í™•ë„ í–¥ìƒ
- âœ… ê³ í’ˆì§ˆ ì˜¤ë””ì˜¤ â†’ Whisper API ì¸ì‹ë¥  í–¥ìƒ
- âœ… ëª…í™•í•œ ë°œìŒ ì¸ì‹ â†’ ì˜ëª»ëœ í…ìŠ¤íŠ¸ ë³€í™˜ ê°ì†Œ
- âœ… ë°°ê²½ ì†ŒìŒ ê°ì†Œ â†’ ë¶ˆí•„ìš”í•œ ë‹¨ì–´ ì¸ì‹ ë°©ì§€

### 3. AI í”¼ë“œë°± í’ˆì§ˆ í–¥ìƒ
- âœ… ì •í™•í•œ transcript â†’ ë” ì •í™•í•œ ë‚´ìš© ë¶„ì„
- âœ… ë°œìŒ ì˜¤ë¥˜ ê°ì†Œ â†’ ì˜¤í•´ì˜ ì†Œì§€ ê°ì†Œ
- âœ… ë¬¸ì¥ êµ¬ì¡° ì¸ì‹ ê°œì„  â†’ ë…¼ë¦¬ íë¦„ ë¶„ì„ ì •í™•ë„ í–¥ìƒ

### 4. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- âœ… ì‚¬ìš©ìê°€ ìì‹ ì˜ ì¥ë¹„ë¥¼ ìµœëŒ€í•œ í™œìš© ê°€ëŠ¥
- âœ… í”„ë¡œí˜ì…”ë„í•œ ëŠë‚Œ (ì¥ë¹„ ì„ íƒì˜ ììœ )
- âœ… íˆ¬ëª…ì„± (ì–´ë–¤ ë§ˆì´í¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ëª…í™•íˆ ì•Œ ìˆ˜ ìˆìŒ)

## ğŸ› ë¬¸ì œ í•´ê²°

### Q1: ë§ˆì´í¬ ëª©ë¡ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤
**A:** ë¸Œë¼ìš°ì € ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”.
```javascript
// ê¶Œí•œ ìƒíƒœ í™•ì¸
navigator.permissions.query({ name: 'microphone' }).then(result => {
  console.log('ë§ˆì´í¬ ê¶Œí•œ:', result.state);
  // "granted", "denied", "prompt"
});
```

**í•´ê²° ë°©ë²•:**
1. ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ ì™¼ìª½ ğŸ”’ ì•„ì´ì½˜ í´ë¦­
2. ë§ˆì´í¬ ê¶Œí•œì„ "í—ˆìš©"ìœ¼ë¡œ ë³€ê²½
3. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

### Q2: ë§ˆì´í¬ ì´ë¦„ì´ "ë§ˆì´í¬ 1", "ë§ˆì´í¬ 2"ë¡œ í‘œì‹œë©ë‹ˆë‹¤
**A:** ë§ˆì´í¬ ê¶Œí•œì´ ì—†ê±°ë‚˜ ì²« ë²ˆì§¸ ê¶Œí•œ ìš”ì²­ ì¤‘ì¼ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

**ì´ìœ :**
- ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ê¶Œí•œì´ ì—†ìœ¼ë©´ `device.label`ì´ ë¹ˆ ë¬¸ìì—´
- Fallbackìœ¼ë¡œ "ë§ˆì´í¬ 1", "ë§ˆì´í¬ 2" í‘œì‹œ

**í•´ê²° ë°©ë²•:**
- ê¶Œí•œì„ í—ˆìš©í•˜ë©´ ìë™ìœ¼ë¡œ ì‹¤ì œ ì´ë¦„ í‘œì‹œë¨

### Q3: ì„ íƒí•œ ë§ˆì´í¬ê°€ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤
**A:** ì½˜ì†” ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.

**ë””ë²„ê¹…:**
```javascript
// ì½˜ì†”ì—ì„œ ë‹¤ìŒì„ í™•ì¸:
// 1. ì„ íƒëœ ë§ˆì´í¬ ID
console.log('[ë§ˆì´í¬ ì„ íƒ] ì‚¬ìš©í•  ë§ˆì´í¬ ID:', selectedDeviceId);

// 2. ì‹¤ì œ ìŠ¤íŠ¸ë¦¼ ì •ë³´
stream.getAudioTracks().forEach(track => {
  console.log('ì‚¬ìš© ì¤‘ì¸ íŠ¸ë™:', track.label);
  console.log('ì„¤ì •:', track.getSettings());
});
```

### Q4: ì¥ì¹˜ ë³€ê²½ ê°ì§€ê°€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (Safari)
**A:** SafariëŠ” `devicechange` ì´ë²¤íŠ¸ ì§€ì›ì´ ë¶ˆì™„ì „í•©ë‹ˆë‹¤.

**ëŒ€ì•ˆ:**
- ë§ˆì´í¬ ë³€ê²½ í›„ í˜ì´ì§€ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨
- ë˜ëŠ” "ëª©ë¡ ìƒˆë¡œê³ ì¹¨" ë²„íŠ¼ ì¶”ê°€ (í–¥í›„ ê°œì„  ì‚¬í•­)

### Q5: ì—¬ëŸ¬ ê°œì˜ "ê¸°ë³¸" ë§ˆì´í¬ê°€ í‘œì‹œë©ë‹ˆë‹¤
**A:** ì´ê²ƒì€ ì •ìƒì…ë‹ˆë‹¤.

**ì„¤ëª…:**
- `default`: ì‹œìŠ¤í…œ ê¸°ë³¸ ë§ˆì´í¬ (OS ì„¤ì •ì— ë”°ë¼ ë³€ê²½ë¨)
- ì‹¤ì œ ì¥ì¹˜ ID: íŠ¹ì • í•˜ë“œì›¨ì–´ ë§ˆì´í¬

**ê¶Œì¥:**
- "default"ê°€ ì•„ë‹Œ ì‹¤ì œ ì¥ì¹˜ ì´ë¦„ì„ ì„ íƒí•˜ë©´ ë” ì•ˆì •ì 

## ğŸ“ˆ ì„±ëŠ¥ ì˜í–¥

### ì¶”ê°€ëœ ë¦¬ì†ŒìŠ¤
- **State**: 2ê°œ (`audioDevices`, `selectedDeviceId`)
- **API í˜¸ì¶œ**: `enumerateDevices()` 1íšŒ (ì´ˆê¸° ë¡œë“œ)
- **ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ**: `devicechange` 1ê°œ

### ì„±ëŠ¥ ì¸¡ì •
- âœ… **í˜ì´ì§€ ë¡œë“œ**: +50ms ì´í•˜ (ê¶Œí•œ ìš”ì²­ ì‹œê°„ ì œì™¸)
- âœ… **ë©”ëª¨ë¦¬**: +5KB ì´í•˜ (ì¥ì¹˜ ëª©ë¡)
- âœ… **CPU**: ê±°ì˜ ì˜í–¥ ì—†ìŒ (ì´ë²¤íŠ¸ ê¸°ë°˜)

**ê²°ë¡ :** ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€ ê±°ì˜ ì—†ìœ¼ë©°, ì‚¬ìš©ì ê²½í—˜ ê°œì„  íš¨ê³¼ê°€ í›¨ì”¬ í½ë‹ˆë‹¤.

## ğŸ”® í–¥í›„ ê°œì„  ì‚¬í•­

### 1. ë§ˆì´í¬ í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥
```javascript
// ë…¹ìŒ ì „ ë§ˆì´í¬ ìŒì§ˆ í…ŒìŠ¤íŠ¸
const testMicrophone = async () => {
  const stream = await getUserMedia({ audio: { deviceId: selectedDeviceId } });
  // 5ì´ˆê°„ ì˜¤ë””ì˜¤ ë ˆë²¨ í‘œì‹œ
  // ì‚¬ìš©ìê°€ ìŒì§ˆ í™•ì¸ ê°€ëŠ¥
};
```

### 2. ë§ˆì´í¬ ì„¤ì • ì €ì¥
```javascript
// LocalStorageì— ì„ í˜¸í•˜ëŠ” ë§ˆì´í¬ ì €ì¥
localStorage.setItem('preferredMicrophoneId', selectedDeviceId);

// ë‹¤ìŒ ë°©ë¬¸ ì‹œ ìë™ ì„ íƒ
const savedDeviceId = localStorage.getItem('preferredMicrophoneId');
if (savedDeviceId && audioDevices.some(d => d.deviceId === savedDeviceId)) {
  setSelectedDeviceId(savedDeviceId);
}
```

### 3. ì˜¤ë””ì˜¤ ë ˆë²¨ ì¸ë””ì¼€ì´í„°
```javascript
// ì‹¤ì‹œê°„ ë§ˆì´í¬ ì…ë ¥ ë ˆë²¨ ì‹œê°í™”
const analyser = audioContext.createAnalyser();
// ë§‰ëŒ€ ê·¸ë˜í”„ë‚˜ ì›í˜• ê²Œì´ì§€ë¡œ ìŒëŸ‰ í‘œì‹œ
```

### 4. ë§ˆì´í¬ í’ˆì§ˆ ë“±ê¸‰ í‘œì‹œ
```javascript
// ë§ˆì´í¬ë³„ë¡œ ì˜ˆìƒ ìŒì§ˆ ë“±ê¸‰ í‘œì‹œ
{device.label} (â­â­â­â­â­ ìŠ¤íŠœë””ì˜¤ê¸‰)
{device.label} (â­â­â­ ì–‘í˜¸)
{device.label} (â­â­ ê¸°ë³¸)
```

## ğŸ“š ì°¸ê³  ìë£Œ

### MDN Web Docs
- [MediaDevices.enumerateDevices()](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices)
- [MediaDevices.getUserMedia()](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)
- [devicechange event](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/devicechange_event)

### Web Audio API
- [AudioContext](https://developer.mozilla.org/en-US/docs/Web/API/AudioContext)
- [MediaStreamConstraints](https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints)

## âœ… ë³€ê²½ ì‚¬í•­ ìš”ì•½

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© | ì¤„ ìˆ˜ |
|------|-----------|-------|
| `src/app/components/InterviewUI.jsx` | ë§ˆì´í¬ ì„ íƒ ê¸°ëŠ¥ ì¶”ê°€ | +77ì¤„ |
| `MICROPHONE_SELECTION_GUIDE.md` | ìƒì„¸ ê°€ì´ë“œ ë¬¸ì„œ (ì‹ ê·œ) | 643ì¤„ |

**ì´ ë³€ê²½:** 2ê°œ íŒŒì¼, +77ì¤„, 0ì¤„ ì‚­ì œ

---

ì‚¬ìš©ìê°€ ì´ì œ ì „ë¬¸ ì¥ë¹„ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ í’ˆì§ˆë¡œ ë©´ì ‘ ë‹µë³€ì„ ë…¹ìŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ™ï¸âœ¨

